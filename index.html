<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Shree Chakrdhar Enterprises</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{font-family:Arial;background:#f4f4f4;padding:15px}
.box{background:#fff;padding:15px;margin:15px auto;max-width:900px;border-radius:6px}
h2,h3{text-align:center}
input,select,button{width:100%;padding:8px;margin:6px 0}
button{background:#000;color:#fff;border:none;cursor:pointer}
.car{border:1px solid #ddd;padding:10px;margin:10px 0}
.imgs{display:grid;grid-template-columns:repeat(auto-fill,minmax(90px,1fr));gap:6px}
.imgs img{width:100%;height:80px;object-fit:cover;border-radius:4px}
</style>
</head>
<body>

<h2>ðŸš— Shree Chakrdhar Enterprises</h2>

<!-- OUR CARS -->
<div class="box">
<h3>Available Cars</h3>
<div id="carsContainer"></div>
</div>

<!-- BOOKING -->
<div class="box">
<h3>Book Your Car</h3>
<form id="bookingForm">
<input id="name" placeholder="Full Name" required>
<input id="mobile" placeholder="Mobile Number" required>
<select id="carSelect" required>
<option value="">Select Car</option>
</select>
<input type="date" id="fromDate" required>
<input type="date" id="toDate" required>
<button type="submit">Book Now</button>
</form>
<p id="msg"></p>
</div>

<!-- FIREBASE -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script>
firebase.initializeApp({
  apiKey: "AIzaSyAceQf7DxVI9d_-HnVchw4tmiBCSy2P3NI",
  authDomain: "shree-chakrdhar-booking-ed24a.firebaseapp.com",
  projectId: "shree-chakrdhar-booking-ed24a"
});
const db = firebase.firestore();
</script>

<script>
// LOAD CARS
db.collection("cars").onSnapshot(snap=>{
  carsContainer.innerHTML="";
  carSelect.innerHTML='<option value="">Select Car</option>';

  snap.forEach(doc=>{
    const c = doc.data();
    carSelect.innerHTML += `<option>${c.name}</option>`;

    let imgs="";
    c.photos.forEach(p=>imgs+=`<img src="${p}">`);

    carsContainer.innerHTML += `
      <div class="car">
        <b>${c.name}</b> â€“ â‚¹${c.price}/day<br>
        ${c.description}
        <div class="imgs">${imgs}</div>
      </div>
    `;
  });
});

// BOOKING SUBMIT
bookingForm.onsubmit = e => {
  e.preventDefault();
  db.collection("bookings").add({
    name:name.value,
    mobile:mobile.value,
    car:carSelect.value,
    from:fromDate.value,
    to:toDate.value,
    status:"Pending",
    time:new Date()
  });
  msg.innerText = "Booking submitted. We will contact you soon.";
  msg.style.color="green";
  bookingForm.reset();
};
</script>

</body>
</html>
